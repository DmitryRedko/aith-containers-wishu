# aith-containers-wishu

# Плохие практики Dockerfile и их исправления
1. Использование `FROM ubuntu:latest`
    - Проблема: Использование `latest` делает образ нестабильным, так как он может обновляться и вносить неожиданные изменения в приложение. Использование `ubuntu` нецелесообразно.
    - Исправление: Использован образ `python:3.12-slim`, который предоставляет оптимизированный и стабильный базовый образ с предустановленным Python.

2. Определение переменной ENV без необходимости
    - Проблема: Переменная `ENV=${ENV}` может вызывать предупреждения, если она не определена, что может запутать разработчиков.
    - Исправление: Убрана эта строка, оставлены только необходимые переменные окружения.

3. Использование `ADD` вместо `COPY`
    - Проблема: `ADD` может выполнять дополнительные действия, такие как извлечение архивов, что не всегда нужно и может вызывать непредсказуемое поведение.
    - Исправление: Использован `COPY` для явного копирования файлов, что делает намерение более понятным и предсказуемым.

4. Отсутствие очищения кэша и установки дополнительных флагов
    - Проблема: Использование флага `--break-system-packages` может привести к нестабильной работе. Это также увеличивает размер образа из-за кэша.
    - Исправление: Удалены ненужные флаги, оставлен только `--no-cache-dir`, что уменьшает размер образа.

5. Общие `VOLUME` без указания конкретной папки
    - Проблема: Использование `VOLUME [.]` создает неопределённую точку монтирования, что может запутать пользователей.
    - Исправление: Указана конкретная папка для монтирования данных `("./CommonData")`, чтобы сделать использование более понятным.

# Случаи, когда не стоит использовать контейнеры
1. Приложения с высокими требованиями к производительности

    Для систем реального времени (например, управление полетом, медицинские устройства) накладные расходы на виртуализацию могут стать проблемой.

2. Легаси-приложения

    Существующие приложения, которые не требуют изменений, могут быть сложными для контейнеризации, что требует значительных усилий и времени.

3. Небольшие одноразовые скрипты

    Использование контейнеров для простых одноразовых скриптов может добавить ненужную сложность.

4. Приложения с большими зависимостями

    Приложения, требующие установки большого количества библиотек, могут привести к слишком тяжелым и сложным в управлении образам.