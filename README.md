# –ß–∞—Å—Ç—å 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ minikube

1. –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω Docker Desktop, –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞ –µ–≥–æ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å.

![Docker Desktop](./Report/–°–∫—Ä–∏–Ω1.jpg)

2. –°–∫–∞—á–∞–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω `kubectl` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å `Kubernetes CLI`.

![kubectl](./Report/–°–∫—Ä–∏–Ω2.jpg)

3. –°–∫–∞—á–∞–Ω c GitHub –∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `minikube-installer.exe`.

![minikube](./Report/–°–∫—Ä–∏–Ω3.jpg)

4. –ü—Ä–æ–≤–µ—Ä–∏–ª–∏, —á—Ç–æ –≤—Å–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—Å—Ç–∏–ª–æ—Å—å —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥:
```
docker ps
kubectl config view
```

![All works](./Report/–°–∫—Ä–∏–Ω4.jpg)

5. –ü–æ—Ä–∞–¥–æ–≤–∞–ª–∏—Å—å, —á—Ç–æ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –ø–æ—â—É–ø–∞—Ç—å –∫—É–±–µ—Ä —ç—Ç–æ –¥–æ–≤–æ–ª—å–Ω–æ –Ω–µ—Å–ª–æ–∂–Ω–æ –∏ –±—ã—Å—Ç—Ä–æ :))))))

# –ß–∞—Å—Ç—å 2. –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç—ã —á–µ—Ä–µ–∑ CLI

1. –ü—Ä–æ–≥–Ω–∞–ª–∏ –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã, —á—Ç–æ–± –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã —Å–æ–∑–¥–∞–ª–∏—Å—å –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ, —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã:
```
create ‚Äìf –∏–º—è_—Ñ–∞–π–ª–∞
```

![Manifests create](./Report/–°–∫—Ä–∏–Ω5.jpg)

üí°**–í–æ–ø—Ä–æ—Å: –≤–∞–∂–µ–Ω –ª–∏ –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤? –ü–æ—á–µ–º—É?**

‚úÖ **–û—Ç–≤–µ—Ç**:
```
–î–∞, –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤–∞–∂–µ–Ω, —Ç–∞–∫ –∫–∞–∫ –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã –º–æ–≥—É—Ç –∑–∞–≤–∏—Å–µ—Ç—å –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞. –ù–∞–ø—Ä–∏–º–µ—Ä:
- ConfigMap –∏ Secret –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω—ã –¥–æ Deployment, —Ç–∞–∫ –∫–∞–∫ –ø–æ—Å–ª–µ–¥–Ω–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏—Ö –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è.
- Service –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è –ø–æ—Å–ª–µ Deployment, —Ç–∞–∫ –∫–∞–∫ –æ–Ω —Å–≤—è–∑—ã–≤–∞–µ—Ç —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–¥—ã.
```

2. –ü—Ä–æ–≤–µ—Ä–∏–ª–∏, —á—Ç–æ –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–ª–∏—Å—å, —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã:
```
kubectl get —Ç–∏–ø_—Ä–µ—Å—É—Ä—Å–∞
```
–ß—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ä–µ—Å—É—Ä—Å, –Ω—É–∂–Ω–æ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –Ω–µ–º—É —á–µ—Ä–µ–∑:
```
kubectl describe —Ç–∏–ø_—Ä–µ—Å—É—Ä—Å–∞/–∏–º—è_—Ä–µ—Å—É—Ä—Å–∞
```

![Manifests info](./Report/–°–∫—Ä–∏–Ω6.jpg)

3. –°–æ–∑–¥–∞–ª–∏ `nextcloud.yml` –∏ –ø–æ–≤—Ç–æ—Ä–∏–ª–∏ –¥–ª—è –Ω–µ–≥–æ —à–∞–≥–∏ 1 –∏ 2.

![Manifests nextcloud](./Report/–°–∫—Ä–∏–Ω7.jpg)

4.  –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –ø–æ–¥–∞ –ø—Ä–æ–≤–µ—Ä–∏–ª–∏ –µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã `kubectl logs –∏–º—è_–ø–æ–¥–∞`

![kubectl logs](./Report/–°–∫—Ä–∏–Ω8.jpg)

# –ß–∞—Å—Ç—å 3. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏–∑–≤–Ω–µ

1. –î–ª—è —ç–∫—Å–ø–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ —Ç–∏–ø–∞ `Service` –¥–ª—è –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –∫–æ–º–∞–Ω–¥–∞:

```
kubectl expose deployment nextcloud --type=NodePort --port=80
```

![kubectl expose](./Report/–°–∫—Ä–∏–Ω9.jpg)

2. –í—ã–ø–æ–ª–Ω–µ–Ω–æ —Ç—É–Ω–Ω–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞—Ñ–∏–∫–∞ –º–µ–∂–¥—É –Ω–æ–¥–æ–π `Minikube` –∏ —Å–µ—Ä–≤–∏—Å–æ–º —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã:

```
minikube service nextcloud
```

–ö–æ–º–∞–Ω–¥–∞ –æ—Ç–∫—Ä—ã–ª–∞ –¥–æ—Å—Ç—É–ø –∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É `Nextcloud`, –∑–∞—Ö–≤–∞—Ç–∏–≤ —Ç–µ—Ä–º–∏–Ω–∞–ª –¥–æ —Ä—É—á–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ —á–µ—Ä–µ–∑ `Ctrl+C`.

![Nextcloud](./Report/–°–∫—Ä–∏–Ω10.jpg)

![Nextcloud](./Report/–°–∫—Ä–∏–Ω11.jpg)

–ü—Ä–æ–π–¥–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è 

![Nextcloud](./Report/–°–∫—Ä–∏–Ω12.jpg)

3.  –ù–∞ —ç—Ç–æ–º —É—Å—Ç–∞–Ω–æ–≤–∫—É –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –≤–µ–±-—Å–µ—Ä–≤–∏—Å–∞ —Å –Ω—É–ª—è —Å—á–∏—Ç–∞–µ–º —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–π :))))))))))))))

4. –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Dashboard –¥–ª—è Minikube —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã

```
minikube dashboard --url
```

![Nextcloud](./Report/–°–∫—Ä–∏–Ω13.jpg)

![Nextcloud](./Report/–°–∫—Ä–∏–Ω14.jpg)

üí°**–í–æ–ø—Ä–æ—Å:  –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç, –µ—Å–ª–∏ –æ—Ç—Å–∫–µ–π–ª–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ø–ª–∏–∫ postgres-deployment –≤ 0, –∑–∞—Ç–µ–º –æ–±—Ä–∞—Ç–Ω–æ –≤ 1, –∏ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞ –∑–∞–π—Ç–∏ –Ω–∞ Nextcloud?**

‚úÖ **–û—Ç–≤–µ—Ç**:
```
–ü—Ä–∏ —Å–∫–µ–π–ª–∏–Ω–≥–µ –≤ 0 –∏ –∑–∞—Ç–µ–º –≤ 1, –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—ã PostgreSQL —É–¥–∞–ª—è—é—Ç—Å—è, –∞ –∑–∞—Ç–µ–º —Å–æ–∑–¥–∞—é—Ç—Å—è –∑–∞–Ω–æ–≤–æ. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–∞, —á—Ç–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –≤—Ä–µ–º–µ–Ω–Ω–æ–º—É –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Nextcloud. –û–¥–Ω–∞–∫–æ, –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è Persistent Volumes.
```

# –ß–∞—Å—Ç—å 4. –ó–∞–¥–∞–Ω–∏–µ

1. –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã `PostgreSQL`:

    –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `POSTGRES_USER` –∏ `POSTGRES_PASSWORD` –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –∏–∑ `ConfigMap` –≤ –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ `Secret`.
    –°–æ–∑–¥–∞–Ω –º–∞–Ω–∏—Ñ–µ—Å—Ç `pg_secret.yml` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö `PostgreSQL`.

2. –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã `Nextcloud`:

    –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `NEXTCLOUD_UPDATE`, `ALLOW_EMPTY_PASSWORD` –∏ –¥—Ä—É–≥–∏–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –∏–∑ `Deployment` –≤ –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ `ConfigMap`.
    –°–æ–∑–¥–∞–Ω –º–∞–Ω–∏—Ñ–µ—Å—Ç `nextcloud_configmap.yml` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö `Nextcloud`.

3. –î–æ–±–∞–≤–ª–µ–Ω—ã `Liveness` –∏ `Readiness` –ø—Ä–æ–±—ã –¥–ª—è `Nextcloud`:

    –í –º–∞–Ω–∏—Ñ–µ—Å—Ç–µ `nextcloud_deployment.yml`–¥–æ–±–∞–≤–ª–µ–Ω—ã `livenessProbe` –∏ `readinessProbe` –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

![Task](./Report/–°–∫—Ä–∏–Ω15.jpg)

![Task](./Report/–°–∫—Ä–∏–Ω16.jpg)